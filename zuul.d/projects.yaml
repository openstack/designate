- project-template:
    name: designate-devstack-jobs
    queue: designate
    check:
      jobs:
        - designate-bind9-core
        - designate-bind9-with-keystone-default-roles
        - designate-pdns4-core
        - designate-bind9-multipool
        - designate-grenade-bind9
        - designate-grenade-pdns4
        - designate-grenade-bind9-skip-level
        - designate-grenade-pdns4-skip-level
        - designate-bind9-core-catalog-zones:
            voting: false
        - designate-only-ipv6-pdns4
        - designate-only-ipv6-bind9
    gate:
      fail-fast: true
      jobs:
        - designate-bind9-core
        - designate-bind9-with-keystone-default-roles
        - designate-pdns4-core
        - designate-bind9-multipool
        - designate-grenade-pdns4
        - designate-grenade-bind9
        - designate-grenade-pdns4-skip-level
        - designate-grenade-bind9-skip-level
        - designate-only-ipv6-pdns4
        - designate-only-ipv6-bind9

- project:
    templates:
      - designate-devstack-jobs
      - openstack-cover-jobs
      - openstack-python3-jobs
      - publish-openstack-docs-pti
      - periodic-stable-jobs
      - check-requirements
      - release-notes-jobs-python3
    check:
      jobs:
        - neutron-tempest-plugin-designate-scenario
        - designate-tox-dnspython-latest
    gate:
      jobs:
        - neutron-tempest-plugin-designate-scenario
    experimental:
      jobs:
        - designate-pdns4-postgres-core
